var Ajxur={URL:"../../controlador/index-web.php",$Ld:$(".page-loader-wrapper"),Loader:{numAPIs:0,c:0,timer:2e3,esMostrado:function(){return!("none"==Ajxur.$Ld[0].style.display)},quitar:function(){Ajxur.$Ld.fadeOut()},mostrar:function(){Ajxur.$Ld.fadeIn()}},Api:function(e,t,a){var o,n=this;if(this.tracer=!1,this.loader=!0,this.needParseJSON=0,this.url=Ajxur.URL,e.data_files?((o=new FormData).append("modelo",e.modelo),o.append("metodo",e.metodo),e.formulario&&o.append("formulario",e.formulario),e.data_in&&o.append("data_in",e.data_in),e.data_out&&o.append("data_out",e.data_out),e.data_files&&void 0!=e.data_files&&$.each(e.data_files,function(e,t){t&&o.append(e,t)}),this.ajax=$.ajax({url:n.url,cache:!1,contentType:!1,processData:!1,data:o,type:"get"})):this.ajax=$.ajax({url:n.url,data:e,type:"get"}),Ajxur.Loader.c++,this.id=++Ajxur.Loader.numAPIs,n.tracer&&console.log("INICIO PETICIÓN. ID:",n.id),"function"!=typeof t&&"deferred"==t)return this.ajax;this.ajax.done(function(e){n.successCallback(e)}).fail(function(e){n.failCallback(e)}),setTimeout(function(){if(n.tracer&&(console.log("PETICIONES ACTIVAS ",Ajxur.Loader.c),console.log("Verificador de DELAY: Estado de ID:",n.id)),4!=n.ajax.readyState)return n.tracer&&console.log("DATA aún no ha llegado.:"),void(n.loader&&Ajxur.Loader.mostrar());n.tracer&&console.log("DATA ya había llegado. ")},Ajxur.Loader.timer),this.back=function(){if(n.tracer&&console.log("DATA llegó. ID: ",n.id),Ajxur.Loader.c--,n.tracer&&console.log("PETICIONES ACTIVAS ",Ajxur.Loader.c),Ajxur.Loader.esMostrado())return n.tracer&&console.log("CARGANDO... Está en pantalla."),Ajxur.Loader.c<=0?(n.tracer&&console.log("No hay peticiones."),void(n.loader&&Ajxur.Loader.quitar())):void 0;n.tracer&&console.log("CARGANDO... Está fuera de pantalla")},this.successCallback=function(e){n.back(),1==n.needParseJSON&&(e=JSON.parse(e)),t(e)},this.failCallback=function(e){if(n.loader&&Ajxur.Loader.quitar(),1==n.needParseJSON&&(e=JSON.parse(e)),"function"!=typeof a)a(e.responseText);else{var t=JSON.parse(e.responseText);console.error(t.mensaje),alert(t.mensaje)}}}};if("undefined"==typeof jQuery)throw new Error("jQuery plugins need to be before this file");$.AdminBSB={},$.AdminBSB.options={colors:{red:"#F44336",pink:"#E91E63",purple:"#9C27B0",deepPurple:"#673AB7",indigo:"#3F51B5",blue:"#2196F3",lightBlue:"#03A9F4",cyan:"#00BCD4",teal:"#009688",green:"#4CAF50",lightGreen:"#8BC34A",lime:"#CDDC39",yellow:"#ffe821",amber:"#FFC107",orange:"#FF9800",deepOrange:"#FF5722",brown:"#795548",grey:"#9E9E9E",blueGrey:"#607D8B",black:"#000000",white:"#ffffff"},leftSideBar:{scrollColor:"rgba(0,0,0,0.5)",scrollWidth:"4px",scrollAlwaysVisible:!1,scrollBorderRadius:"0",scrollRailBorderRadius:"0",scrollActiveItemWhenPageLoad:!0,breakpointWidth:1170},dropdownMenu:{effectIn:"fadeIn",effectOut:"fadeOut"}},$.AdminBSB.leftSideBar={activate:function(){var e=this,t=$("body"),a=$(".overlay");$(window).click(function(o){var n=$(o.target);"i"===o.target.nodeName.toLowerCase()&&(n=$(o.target).parent()),!n.hasClass("bars")&&e.isOpen()&&0===n.parents("#leftsidebar").length&&(n.hasClass("js-right-sidebar")||a.fadeOut(),t.removeClass("overlay-open"))}),$.each($(".menu-toggle.toggled"),function(e,t){$(t).next().slideToggle(0)}),$.each($(".menu .list li.active"),function(e,t){var a=$(t).find("a:eq(0)");a.addClass("toggled"),a.next().show()}),$(".menu-toggle").on("click",function(e){var t=$(this),a=t.next();if($(t.parents("ul")[0]).hasClass("list")){var o=$(e.target).hasClass("menu-toggle")?e.target:$(e.target).parents(".menu-toggle");$.each($(".menu-toggle.toggled").not(o).next(),function(e,t){$(t).is(":visible")&&($(t).prev().toggleClass("toggled"),$(t).slideUp())})}t.toggleClass("toggled"),a.slideToggle(320)}),e.setMenuHeight(),e.checkStatuForResize(!0),$(window).resize(function(){e.setMenuHeight(),e.checkStatuForResize(!1)}),Waves.attach(".menu .list a",["waves-block"]),Waves.init()},setMenuHeight:function(e){if(void 0!==$.fn.slimScroll){var t=$.AdminBSB.options.leftSideBar,a=$(window).height()-($(".legal").outerHeight()+$(".user-info").outerHeight()+$(".navbar").innerHeight()),o=$(".list");if(o.slimscroll({height:a+"px",color:t.scrollColor,size:t.scrollWidth,alwaysVisible:t.scrollAlwaysVisible,borderRadius:t.scrollBorderRadius,railBorderRadius:t.scrollRailBorderRadius}),$.AdminBSB.options.leftSideBar.scrollActiveItemWhenPageLoad){var n=$(".menu .list li.active")[0].offsetTop;n>150&&o.slimscroll({scrollTo:n+"px"})}}},checkStatuForResize:function(e){var t=$("body"),a=$(".navbar .navbar-header .bars");t.width();e&&t.find(".content, .sidebar").addClass("no-animate").delay(1e3).queue(function(){$(this).removeClass("no-animate").dequeue()}),t.addClass("ls-closed"),a.fadeIn()},isOpen:function(){return $("body").hasClass("overlay-open")}},$.AdminBSB.rightSideBar={activate:function(){var e=this,t=$("#rightsidebar"),a=$(".overlay");$(window).click(function(o){var n=$(o.target);"i"===o.target.nodeName.toLowerCase()&&(n=$(o.target).parent()),!n.hasClass("js-right-sidebar")&&e.isOpen()&&0===n.parents("#rightsidebar").length&&(n.hasClass("bars")||a.fadeOut(),t.removeClass("open"))}),$(".js-right-sidebar").on("click",function(){t.toggleClass("open"),e.isOpen()?a.fadeIn():a.fadeOut()})},isOpen:function(){return $(".right-sidebar").hasClass("open")}};var $searchBar=$(".search-bar");$.AdminBSB.search={activate:function(){var e=this;$(".js-search").on("click",function(){e.showSearchBar()}),$searchBar.find(".close-search").on("click",function(){e.hideSearchBar()}),$searchBar.find('input[type="text"]').on("keyup",function(t){27==t.keyCode&&e.hideSearchBar()})},showSearchBar:function(){$searchBar.addClass("open"),$searchBar.find('input[type="text"]').focus()},hideSearchBar:function(){$searchBar.removeClass("open"),$searchBar.find('input[type="text"]').val("")}},$.AdminBSB.navbar={activate:function(){var e=$("body"),t=$(".overlay");$(".bars").on("click",function(){e.toggleClass("overlay-open"),e.hasClass("overlay-open")?t.fadeIn():t.fadeOut()}),$('.nav [data-close="true"]').on("click",function(){var e=$(".navbar-toggle").is(":visible"),t=$(".navbar-collapse");e&&t.slideUp(function(){t.removeClass("in").removeAttr("style")})})}},$.AdminBSB.input={activate:function(){$(".form-control").focus(function(){$(this).parent().addClass("focused")}),$(".form-control").focusout(function(){var e=$(this);e.parents(".form-group").hasClass("form-float")?""==e.val()&&e.parents(".form-line").removeClass("focused"):e.parents(".form-line").removeClass("focused")}),$("body").on("click",".form-float .form-line .form-label",function(){$(this).parent().find("input").focus()}),$(".form-control").each(function(){""!==$(this).val()&&$(this).parents(".form-line").addClass("focused")})}},$.AdminBSB.select={activate:function(){$.fn.selectpicker&&$("select:not(.ms)").selectpicker()}},$.AdminBSB.dropdownMenu={activate:function(){var e=this;$(".dropdown, .dropup, .btn-group").on({"show.bs.dropdown":function(){var t=e.dropdownEffect(this);e.dropdownEffectStart(t,t.effectIn)},"shown.bs.dropdown":function(){var t=e.dropdownEffect(this);t.effectIn&&t.effectOut&&e.dropdownEffectEnd(t,function(){})},"hide.bs.dropdown":function(t){var a=e.dropdownEffect(this);a.effectOut&&(t.preventDefault(),e.dropdownEffectStart(a,a.effectOut),e.dropdownEffectEnd(a,function(){a.dropdown.removeClass("open")}))}}),Waves.attach(".dropdown-menu li a",["waves-block"]),Waves.init()},dropdownEffect:function(e){var t=$.AdminBSB.options.dropdownMenu.effectIn,a=$.AdminBSB.options.dropdownMenu.effectOut,o=$(e),n=$(".dropdown-menu",e);if(o.length>0){var r=o.data("effect-in"),i=o.data("effect-out");void 0!==r&&(t=r),void 0!==i&&(a=i)}return{target:e,dropdown:o,dropdownMenu:n,effectIn:t,effectOut:a}},dropdownEffectStart:function(e,t){t&&(e.dropdown.addClass("dropdown-animating"),e.dropdownMenu.addClass("animated dropdown-animated"),e.dropdownMenu.addClass(t))},dropdownEffectEnd:function(e,t){e.dropdown.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.dropdown.removeClass("dropdown-animating"),e.dropdownMenu.removeClass("animated dropdown-animated"),e.dropdownMenu.removeClass(e.effectIn),e.dropdownMenu.removeClass(e.effectOut),"function"==typeof t&&t()})}};var edge="Microsoft Edge",ie10="Internet Explorer 10",ie11="Internet Explorer 11",opera="Opera",firefox="Mozilla Firefox",chrome="Google Chrome",safari="Safari";$.AdminBSB.browser={activate:function(){""!==this.getClassName()&&$("html").addClass(this.getClassName())},getBrowser:function(){var e=navigator.userAgent.toLowerCase();return/edge/i.test(e)?edge:/rv:11/i.test(e)?ie11:/msie 10/i.test(e)?ie10:/opr/i.test(e)?opera:/chrome/i.test(e)?chrome:/firefox/i.test(e)?firefox:navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)?safari:void 0},getClassName:function(){var e=this.getBrowser();return e===edge?"edge":e===ie11?"ie11":e===ie10?"ie10":e===opera?"opera":e===chrome?"chrome":e===firefox?"firefox":e===safari?"safari":""}},$(function(){$.AdminBSB.browser.activate(),$.AdminBSB.leftSideBar.activate(),$.AdminBSB.rightSideBar.activate(),$.AdminBSB.navbar.activate(),$.AdminBSB.dropdownMenu.activate(),$.AdminBSB.input.activate(),$.AdminBSB.search.activate(),setTimeout(function(){$(".page-loader-wrapper").fadeOut()},50)});var Util={TFloat:function(e,t){return parseFloat(e).toFixed(t||2)},alert:function(e,t){var a="";switch(t.tipo||(t.tipo="e"),t.tipo){case"s":strAlert="bg-green";break;case"w":strAlert="alert-warning";break;case"e":strAlert="bg-red"}a+='<div class="alert '+strAlert+' alert-dismissible" role="alert">',a+='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>',a+=(t.titulo?"<strong>"+t.titulo+"</strong>":"")+" "+(t.mensaje?t.mensaje:"")+" </div>",e.html(a),e.focus(),setTimeout(function(){e.empty()},t.tiempo||3e3)},notificacion:function(e,t,a,o,n,r,i){null!==e&&""!==e||(e="bg-black"),null!==t&&""!==t||(t="Turning standard Bootstrap alerts"),null!==n&&""!==n||(n="animated fadeInDown"),null!==r&&""!==r||(r="animated fadeOutUp"),null!==i&&""!==i||(i=5e3);$.notify({message:t},{type:e,allow_dismiss:!0,newest_on_top:!0,timer:1e3,delay:i,placement:{from:a,align:o},animate:{enter:n,exit:r},template:'<div data-notify="container" class="bootstrap-notify-container alert alert-dismissible {0} p-r-35" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})},cerrarSesion:function(){if(confirm("¿Desea cerrar sesión?")){new Ajxur.Api({metodo:"cerrarSesionWeb",modelo:"Personal"},function(e){var t=e.datos;200==e.estado&&1==t.rpt&&(alert(t.msj),location.href="../")})}},soloNumeros:function(e){var t=e.which?e.which:e.keyCode;return t>=48&&t<=57},soloNumerosDecimales:function(e){var t=e.which?e.which:e.keyCode;return console.log(t),t>=48&&t<=57||46==t},soloDecimal:function(e,t,a){for(var o=e.which?e.which:e.keyCode,n=t.length,r=t.indexOf("."),i=0,s=t.split(".")[0].length+a;-1!=r;)i++,r=t.indexOf(".",r+1);return(o>=48&&o<=57||46==o)&&((0!=n||46!=o)&&((0==i||46!=o)&&("0"==t?!(o>=48&&o<=57):n<=s)))},soloLetras:function(e,t){var a=e.which?e.which:e.keyCode;if(null!=t){if(a>=65&&a<=90||a>=97&&a<=122||241==a||209==a)return!0}else if(a>=65&&a<=90||a>=97&&a<=122||241==a||209==a||a>=32&&a<=40||8==a||46==a)return!0;return!1},soloNumeros:function(e){var t=e.which?e.which:e.keyCode;return t>=48&&t<=57},confirm:function(e,t,a,o){swal({title:t||"¿Está seguro de completar esta acción?",html:o||!1,text:a||"",type:"warning",showCancelButton:!0,confirmButtonColor:"#4CAF50 ",confirmButtonText:"Sí",cancelButtonText:"No",closeOnConfirm:!0},e)},Templater:function(e){var t={};return $.each(e,function(e,a){var o=a.id,n=o.substr(5);o.length>0&&(t[n]=Handlebars.compile(a.innerHTML))}),t},XHR:function(e,t){new Ajxur.Api(e,function(e){(e.estado=200)&&t(e.datos)})},getHTML:function(e,t){if(window.XMLHttpRequest){var a=new XMLHttpRequest;a.onload=function(){t&&"function"==typeof t&&t(this.responseXML)},a.open("GET",e),a.responseType="document",a.send()}},llenarCombo:function(e,t,a){var o='<option value="" selected>'+e+"</option>";$.each(a,function(e,t){o+='<option value="'+t.id+'">'+t.descripcion+"</option>"}),t.html(o)}};